<% if User.omniauth_providers.any? %>
  <% User.omniauth_providers.each do |provider| %>
    <% next unless provider == :google_oauth2 %>
    <% if provider == :telegram %>
      <% if Rails.env.production? %>
        <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="audiorezka_bot" data-size="large" data-auth-url="https://audiorezka.com/users/auth/telegram/callback"></script>
      <% else %>
        <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="audiorezka_bot" data-size="large" data-auth-url="http://localhost:3000/users/auth/telegram/callback"></script>
      <% end %>
    <% else %>
      <%= button_to omniauth_authorize_path(User, provider),
          data: { turbo: false },
          class: "du-btn du-btn-outline du-btn-block rounded-full" do %>
          <%= inline_svg_tag "svg/#{ConnectedAccount::PROVIDER_CONFIG[provider.to_sym][:icon]}.svg", class: "w-4 h-4" %>
          <%= t("devise.views.shared.links.sign_in_with", provider: ConnectedAccount::PROVIDER_CONFIG[provider.to_sym][:name]) %>
        <% end %>
    <% end %>
  <% end %>
<% end %>
